<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
  </head>
  <body>

    <p>
      <button onclick="updateCalculation('1')">1</button>
      <button onclick="updateCalculation('2')">2</button>
      <button onclick="updateCalculation('3')">3</button>
      <button onclick="updateCalculation(' + ')">+</button>
    </p>

    <p>
      <button onclick="updateCalculation('4')">4</button>
      <button onclick="updateCalculation('5')">5</button>
      <button onclick="updateCalculation('6')">6</button>
      <button onclick="updateCalculation(' - ')">-</button>
    </p>

    <p>
      <button onclick="updateCalculation('7')">7</button>
      <button onclick="updateCalculation('8')">8</button>
      <button onclick="updateCalculation('9')">9</button>
      <button onclick="updateCalculation(' * ')">*</button>
    </p>

    <p>
      <button onclick="updateCalculation('0')">0</button>
      <button onclick="updateCalculation('.')">.</button>
      <button onclick="safeEval()">=</button>
      <button onclick="updateCalculation(' / ')">/</button>
    </p>

    <p>
      <button onclick="clearCalculation()">Clear</button>
    </p>

    <p class="js-Output"></p>

    <script>
      // Load from localStorage or start empty
      let calculation = localStorage.getItem('calculation') || '';

      // Show the saved calculation when page loads
      Output();

      function updateCalculation(value) {
        calculation += value;
        localStorage.setItem('calculation', calculation);
        Output();
      }

      function safeEval() {
        try {
          calculation = eval(calculation).toString(); // ensure it's a string
          localStorage.setItem('calculation', calculation);
          Output();
        } catch (e) {
          alert('Invalid calculation!');
          calculation = '';
          Output();
        }
      }

      function clearCalculation() {
        calculation = '';
        localStorage.removeItem('calculation');
        Output();
      }

      function Output() {
        document.querySelector('.js-Output')
          .innerHTML = `Calculation: ${calculation}`;
      }
    </script>
  </body>
</html>

